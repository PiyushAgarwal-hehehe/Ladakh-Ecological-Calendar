<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ladakh Valley Ecological Calendar тАУ AI Helper</title>
  <style>
    :root {
      --bg: #f2f7fb;
      --paper: #ffffff;
      --primary: #1b4965;
      --primary-soft: #edf5ff;
      --accent: #ff7f50;
      --good: #4caf50;
      --medium: #ffa000;
      --bad: #e53935;
      --muted: #607d8b;
      --border-soft: rgba(15, 23, 42, 0.08);
      --shadow-soft: 0 14px 30px rgba(15, 23, 42, 0.12);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #cfe8ff 0, #f5f7fa 40%, #edf2f7 100%);
      color: #102a43;
    }

    header {
      padding: 1.2rem 2rem 0.5rem;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 2rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: var(--primary);
    }

    header p {
      margin: 0.4rem auto 0;
      max-width: 760px;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .year-label {
      font-size: 0.8rem;
      margin-top: 0.4rem;
      color: #78909c;
    }

    .ai-tagline {
      margin-top: 0.35rem;
      font-size: 0.8rem;
      color: #455a64;
    }

    .wrapper {
      display: grid;
      grid-template-columns: minmax(0, 3.3fr) minmax(280px, 1.6fr);
      gap: 1.2rem;
      padding: 0 2rem 2rem;
    }

    @media (max-width: 980px) {
      .wrapper {
        grid-template-columns: 1fr;
        padding: 0 1rem 1.5rem;
      }
    }

    /* Controls */
    .controls {
      display: flex;
      justify-content: center;
      gap: 0.4rem;
      margin: 0.8rem 0 0.4rem;
      flex-wrap: wrap;
    }

    .filter-btn {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 0.3rem 0.9rem;
      font-size: 0.8rem;
      background: rgba(255,255,255,0.9);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      transition: all 0.15s ease-out;
    }

    .filter-btn span.icon { font-size: 0.95rem; }

    .filter-btn:hover {
      box-shadow: 0 3px 6px rgba(15, 23, 42, 0.14);
      transform: translateY(-1px);
    }

    .filter-btn.active {
      background: var(--primary);
      color: #fff;
      border-color: transparent;
    }

    /* Language switch */
    .lang-switch {
      display: flex;
      justify-content: center;
      gap: 0.3rem;
      margin-bottom: 0.8rem;
      flex-wrap: wrap;
    }

    .lang-btn {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 0.25rem 0.8rem;
      font-size: 0.8rem;
      background: rgba(255,255,255,0.9);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      transition: all 0.15s ease-out;
    }

    .lang-btn:hover {
      box-shadow: 0 2px 5px rgba(15, 23, 42, 0.12);
      transform: translateY(-1px);
    }

    .lang-btn.active {
      background: #283593;
      color: #fff;
      border-color: transparent;
    }

    /* Calendar board */
    .calendar-board {
      position: relative;
      padding-top: 1.2rem;
    }

    .hanger {
      width: 90px;
      height: 10px;
      background: #cfd8dc;
      border-radius: 999px;
      margin: 0 auto;
      box-shadow: 0 3px 7px rgba(0,0,0,0.16);
      position: relative;
      z-index: 1;
    }

    .board-paper {
      margin-top: 0.6rem;
      background: var(--paper);
      border-radius: 20px;
      box-shadow: var(--shadow-soft);
      padding: 1.2rem 1.1rem 1.5rem;
      position: relative;
      border: 1px solid rgba(15, 23, 42, 0.06);
    }

    .board-paper::before {
      content: "";
      position: absolute;
      top: -10px;
      left: 18px;
      right: 18px;
      height: 14px;
      border-radius: 999px;
      background: repeating-linear-gradient(
        90deg,
        #cfd8dc 0, #cfd8dc 10px,
        #b0bec5 10px, #b0bec5 20px
      );
      opacity: 0.8;
    }

    /* Weather widget container */
    .weather-box {
      margin-bottom: 0.9rem;
      border-radius: 14px;
      padding: 0.4rem 0.5rem 0.2rem;
      background: linear-gradient(135deg, #e3f2fd, #ffffff);
      border: 1px solid rgba(25,118,210,0.25);
    }

    .months-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.8rem;
    }

    @media (max-width: 960px) {
      .months-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    @media (max-width: 720px) {
      .months-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 480px) {
      .months-grid { grid-template-columns: 1fr; }
    }

    .month-page {
      background: linear-gradient(180deg, #ffffff 0, #f8fbff 60%, #ffffff 100%);
      border-radius: 14px;
      border: 1px solid rgba(15, 23, 42, 0.06);
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.09);
      padding: 0.6rem 0.65rem 0.7rem;
      position: relative;
      cursor: pointer;
      transition: transform 0.14s ease-out, box-shadow 0.14s ease-out, border-color 0.14s ease-out;
      overflow: hidden;
    }

    .month-page::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 16px;
      border-radius: 14px 14px 0 0;
      background: linear-gradient(90deg, #ff7f50, #ffb74d);
      opacity: 0.96;
    }

    .month-page:hover {
      transform: translateY(-2px) scale(1.01);
      box-shadow: 0 5px 14px rgba(15, 23, 42, 0.18);
      border-color: rgba(15, 23, 42, 0.18);
    }

    .month-header-row {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      margin-top: 0.25rem;
      margin-bottom: 0.1rem;
    }

    .month-name {
      font-weight: 700;
      font-size: 0.96rem;
      color: #102a43;
    }

    .season-tag {
      font-size: 0.7rem;
      padding: 0.1rem 0.4rem;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,0.06);
      background: rgba(255,255,255,0.9);
    }

    .icons-row {
      display: flex;
      justify-content: flex-start;
      gap: 0.35rem;
      font-size: 1.05rem;
      margin: 0.2rem 0 0.3rem;
    }

    .icons-row span { filter: drop-shadow(0 1px 1px rgba(0,0,0,0.12)); }

    .summary-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 0.2rem;
      margin-bottom: 0.25rem;
    }

    .summary-pill {
      font-size: 0.7rem;
      padding: 0.08rem 0.45rem;
      border-radius: 999px;
      border: 1px solid rgba(15, 23, 42, 0.08);
      background: rgba(255,255,255,0.95);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .summary-pill.good {
      border-color: rgba(76,175,80,0.5);
      background: rgba(76,175,80,0.06);
    }
    .summary-pill.medium {
      border-color: rgba(255,160,0,0.5);
      background: rgba(255,160,0,0.06);
    }
    .summary-pill.bad {
      border-color: rgba(229,57,53,0.5);
      background: rgba(229,57,53,0.06);
    }

    .short-lines {
      font-size: 0.74rem;
      line-height: 1.25;
      margin-top: 0.05rem;
    }

    .short-lines div {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      margin-bottom: 0.12rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .label-pill {
      padding: 0.02rem 0.45rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.03);
      font-size: 0.68rem;
      border: 1px solid rgba(15, 23, 42, 0.05);
    }

    .mini-rain-bar {
      margin-top: 0.2rem;
      font-size: 0.7rem;
    }
    .mini-rain-bar .bar {
      position: relative;
      width: 100%;
      height: 4px;
      border-radius: 999px;
      background: rgba(15,23,42,0.08);
      overflow: hidden;
      margin-top: 0.08rem;
    }
    .mini-rain-bar .fill {
      height: 100%;
      background: linear-gradient(90deg, #90caf9, #1565c0);
    }

    /* LEGEND BELOW CALENDAR */
    .legend {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.4rem 0.8rem;
      padding: 0.5rem 0.6rem;
      margin-top: 0.9rem;
      border-radius: 14px;
      background: linear-gradient(135deg, #e3f2fd, #fff3e0);
      border: 1px solid rgba(25, 118, 210, 0.25);
      font-size: 0.75rem;
    }

    @media (max-width: 720px) {
      .legend { grid-template-columns: 1fr; }
    }

    .legend-title {
      grid-column: 1 / -1;
      font-weight: 600;
      font-size: 0.78rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      margin-bottom: 0.1rem;
    }

    .legend-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      align-items: center;
    }

    .legend-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
      padding: 0.1rem 0.45rem;
      border-radius: 999px;
      background: rgba(255,255,255,0.85);
      border: 1px solid rgba(15, 23, 42, 0.08);
    }

    .legend-pill span.icon { font-size: 0.9rem; }

    /* Detail panel */
    .detail-panel {
      background: rgba(255,255,255,0.96);
      border-radius: 20px;
      box-shadow: var(--shadow-soft);
      padding: 1rem 1rem 1.1rem;
      position: sticky;
      top: 1rem;
      max-height: calc(100vh - 2rem);
      overflow-y: auto;
      border: 1px solid rgba(15, 23, 42, 0.06);
    }

    @media (max-width: 980px) {
      .detail-panel {
        position: static;
        max-height: none;
      }
    }

    .detail-month-name {
      margin: 0;
      font-size: 1.2rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      color: var(--primary);
    }

    .detail-season-pill {
      font-size: 0.75rem;
      padding: 0.12rem 0.6rem;
      border-radius: 999px;
      background: var(--primary-soft);
      border: 1px solid rgba(25,118,210,0.3);
    }

    .detail-tip {
      margin: 0.4rem 0 0.6rem;
      font-size: 0.86rem;
      color: #455a64;
    }

    .ai-helper-box {
      border-radius: 12px;
      padding: 0.65rem 0.7rem;
      background: linear-gradient(135deg, #e3f2fd, #fdf4ff);
      border: 1px solid rgba(79, 70, 229, 0.25);
      margin-bottom: 0.65rem;
      display: flex;
      gap: 0.55rem;
      align-items: flex-start;
      font-size: 0.8rem;
    }

    .ai-helper-icon { font-size: 1.4rem; }

    .ai-helper-title {
      font-weight: 600;
      margin-bottom: 0.18rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .metrics-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin-bottom: 0.5rem;
    }

    .metric-pill {
      font-size: 0.75rem;
      padding: 0.14rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(15, 23, 42, 0.12);
      background: rgba(15, 23, 42, 0.02);
    }

    .detail-section-title {
      font-size: 0.8rem;
      font-weight: 700;
      margin-top: 0.4rem;
      margin-bottom: 0.2rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      color: #607d8b;
    }

    .detail-list {
      list-style: none;
      margin: 0 0 0.35rem;
      padding-left: 0;
      font-size: 0.82rem;
    }

    .detail-list li {
      margin-bottom: 0.16rem;
      display: flex;
      gap: 0.35rem;
    }

    .detail-list li span.icon { width: 1.1rem; }

    .detail-bars-block {
      font-size: 0.78rem;
      margin-bottom: 0.4rem;
    }

    .bar-label { margin-bottom: 0.1rem; }

    .bar {
      position: relative;
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.08);
      overflow: hidden;
      margin-bottom: 0.3rem;
    }

    .bar .fill {
      height: 100%;
      background: linear-gradient(90deg, #90caf9, #1565c0);
    }

    .hint {
      font-size: 0.74rem;
      color: #78909c;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
<header>
  <h1 id="titleText">Ladakh Ecological Calendar</h1>
  <p id="subtitleText">
    Month-by-month view of climate, snow, water, pasture and livelihoods for a high mountain valley in Ladakh.
    Designed so it can be printed as a poster or used in village meetings.
  </p>
  <div class="year-label" id="yearLabelText">
    Climate baseline: 2018тАУ2024 ┬╖ Data: Sentinel-2, CHIRPS & community knowledge
  </div>
  <div class="ai-tagline" id="aiTaglineText">
    ЁЯФН Includes a simple тАЬAI helperтАЭ that turns indicators into easy advice for local use.
  </div>

  <div class="controls">
    <button class="filter-btn" data-filter="field">
      <span class="icon">ЁЯМ▒</span><span id="filterFieldText">Good for field work</span>
    </button>
    <button class="filter-btn" data-filter="grazing">
      <span class="icon">ЁЯРС</span><span id="filterGrazingText">Good for grazing / fodder</span>
    </button>
    <button class="filter-btn" data-filter="agri">
      <span class="icon">ЁЯМ╛</span><span id="filterAgriText">Key sowing / harvest</span>
    </button>
    <button class="filter-btn" data-filter="clear">
      <span class="icon">тЬЦя╕П</span><span id="filterClearText">Show all months</span>
    </button>
  </div>

  <div class="lang-switch">
    <button class="lang-btn active" data-lang="en">ЁЯМР English</button>
    <button class="lang-btn" data-lang="hi">ЁЯЗоЁЯЗ│ рд╣рд┐рдиреНрджреА</button>
    <button class="lang-btn" data-lang="ur">╪з╪▒╪п┘И</button>
  </div>
</header>

<div class="wrapper">
  <div class="calendar-board">
    <div class="hanger"></div>
    <div class="board-paper">

      <!-- LIVE WEATHER WIDGET -->
      <div class="weather-box">
        <a class="weatherwidget-io"
           href="https://forecast7.com/en/34d2377d56/ladakh/"
           data-label_1="LADAKH"
           data-label_2="WEATHER"
           data-theme="original">
          LADAKH WEATHER
        </a>
      </div>

      <!-- Calendar grid -->
      <div class="months-grid" id="monthsGrid"></div>

      <!-- Legend UNDER the calendar grid -->
      <div class="legend">
        <div class="legend-title">
          <span>ЁЯЧ║я╕П</span>
          <span id="legendTitleText">Legend тАУ how to read this calendar</span>
        </div>

        <div class="legend-row">
          <div class="legend-pill"><span class="icon">тЭДя╕П</span><span id="legendFrostHighText">High frost / very cold</span></div>
          <div class="legend-pill"><span class="icon">ЁЯзК</span><span id="legendFrostSomeText">Some frost at night</span></div>
          <div class="legend-pill"><span class="icon">ЁЯМдя╕П</span><span id="legendFrostLowText">Little frost</span></div>
        </div>
        <div class="legend-row">
          <div class="legend-pill"><span class="icon">тЭДя╕П</span><span id="legendSnowDeepText">Fields deep in snow</span></div>
          <div class="legend-pill"><span class="icon">ЁЯМия╕П</span><span id="legendSnowPartialText">Snow on part of fields</span></div>
          <div class="legend-pill"><span class="icon">ЁЯЪл</span><span id="legendSnowNoneText">Fields snow-free</span></div>
        </div>
        <div class="legend-row">
          <div class="legend-pill"><span class="icon">ЁЯМ┐</span><span id="legendPasturePeakText">Pasture peak green</span></div>
          <div class="legend-pill"><span class="icon">ЁЯМ▒</span><span id="legendPastureGrowingText">Pasture growing</span></div>
          <div class="legend-pill"><span class="icon">ЁЯЯд</span><span id="legendPasturePoorText">Pasture poor / brown</span></div>
        </div>
        <div class="legend-row">
          <div class="legend-pill"><span class="icon">ЁЯМК</span><span id="legendWaterHighText">Water high</span></div>
          <div class="legend-pill"><span class="icon">ЁЯТж</span><span id="legendWaterMedText">Water medium</span></div>
          <div class="legend-pill"><span class="icon">ЁЯТз</span><span id="legendWaterLowText">Water low</span></div>
        </div>
        <div class="legend-row">
          <div class="legend-pill"><span class="icon">тЬЕ</span><span id="legendFieldGoodText">Good month for field work</span></div>
          <div class="legend-pill"><span class="icon">ЁЯМ╛</span><span id="legendSowingHarvestText">Key sowing / harvest month</span></div>
        </div>
      </div>
    </div>
  </div>

  <aside class="detail-panel">
    <h2 class="detail-month-name" id="detailMonthName">
      Select a month
    </h2>
    <p class="detail-tip" id="detailTip">
      Click any month in the calendar to see detailed guidance. You can translate the short advice into Ladakhi or Hindi
      and use it in schools, village meetings, or printed posters.
    </p>
    <div class="ai-helper-box">
      <div class="ai-helper-icon">ЁЯдЦ</div>
      <div>
        <div class="ai-helper-title" id="aiHelperTitle">
          AI helper
          <span style="font-size:0.7rem; padding:0.05rem 0.5rem; border-radius:999px; background:#eef2ff; border:1px solid rgba(79,70,229,0.3);">
            rule-based summary
          </span>
        </div>
        <div id="aiHelperText">
          IтАЩll summarise key actions once you select a month.
        </div>
      </div>
    </div>
    <div id="detailContent"></div>
    <p class="hint" id="hintText">
      Tip: You can mark local festivals (e.g. Dosmoche in February, Hemis Tsechu in July, Ladakh Harvest Festival in September),
      sowing dates, livestock movement, and school events directly on a printed version of this calendar with coloured stickers or pen.
    </p>
  </aside>
</div>

<!-- Weather widget script (must be AFTER the .weatherwidget-io element) -->
<script>
!function(d,s,id){
  var js,fjs=d.getElementsByTagName(s)[0];
  if(!d.getElementById(id)){
    js=d.createElement(s);
    js.id=id;
    js.src='https://weatherwidget.io/js/widget.min.js';
    fjs.parentNode.insertBefore(js,fjs);
  }
}(document,'script','weatherwidget-io-js');
</script>

<script>
  // =========================
  // I18N + fallback helper
  // =========================
  const i18n = {
    en: {
      title: "Ladakh Ecological Calendar",
      subtitle: "Month-by-month view of climate, snow, water, pasture and livelihoods for a high mountain valley in Ladakh. Designed so it can be printed as a poster or used in village meetings.",
      yearLabel: "Climate baseline: 2018тАУ2024 ┬╖ Data: Sentinel-2, CHIRPS & community knowledge",
      aiTagline: "ЁЯФН Includes a simple тАЬAI helperтАЭ that turns indicators into easy advice for local use.",
      filterField: "Good for field work",
      filterGrazing: "Good for grazing / fodder",
      filterAgri: "Key sowing / harvest",
      filterClear: "Show all months",
      legendTitle: "Legend тАУ how to read this calendar",
      legendFrostHigh: "High frost / very cold",
      legendFrostSome: "Some frost at night",
      legendFrostLow: "Little frost",
      legendSnowDeep: "Fields deep in snow",
      legendSnowPartial: "Snow on part of fields",
      legendSnowNone: "Fields snow-free",
      legendPasturePeak: "Pasture peak green",
      legendPastureGrowing: "Pasture growing",
      legendPasturePoor: "Pasture poor / brown",
      legendWaterHigh: "Water high",
      legendWaterMed: "Water medium",
      legendWaterLow: "Water low",
      legendFieldGood: "Good month for field work",
      legendSowingHarvest: "Key sowing / harvest month",
      selectMonth: "Select a month",
      detailHint: "Click any month in the calendar to see detailed guidance. You can translate the short advice into Ladakhi or Hindi and use it in schools, village meetings, or printed posters.",
      aiHelperTitle: "AI helper",
      aiHelperStart: "IтАЩll summarise key actions once you select a month.",
      hint: "Tip: You can mark local festivals (e.g. Dosmoche in February, Hemis Tsechu in July, Ladakh Harvest Festival in September), sowing dates, livestock movement, and school events directly on a printed version of this calendar with coloured stickers or pen.",
      metricTemp: "Mean temperature",
      metricRain: "Rain (CHIRPS)",
      metricRantak: "Rantak",
      metricIrrigation: "Irrigation",
      metricLabour: "Labour",
      metricMigration: "Migration",
      labelRainRel: "Monthly CHIRPS rain (relative to wettest month)",
      sectionConditions: "Conditions",
      sectionWater: "Water & cryosphere",
      sectionLivelihoods: "Livelihoods & agriculture",
      sectionBiodiversity: "Biodiversity & wildlife",
      sectionBuilt: "Built environment & culture",
      labelFrost: "Frost",
      labelSnowFields: "Snow on fields",
      labelSnowSource: "Snow in source area",
      labelPasture: "Pasture condition",
      labelWater: "Water situation",
      labelHazard: "Flood / landslide risk",
      labelRantak: "Rantak (water mill)",
      labelIrrigationRel: "Irrigation reliability",
      labelIceStupa: "Ice stupa status",
      labelSpringFlow: "Spring/stream flow",
      labelMainCrop: "Main crop activity",
      labelCropRisk: "Crop risk note",
      labelLabourDemand: "Labour demand",
      labelMigrationLevel: "Out-migration level",
      labelMedicinal: "Medicinal plants",
      labelWildlife: "Wildlife conflict risk",
      labelHeating: "Heating demand",
      labelRoofUse: "Roof use",
      labelCulture: "Cultural events",
      aiSeason: "Season",
      aiNoteUnusual: "Note unusual weather, snow or water conditions on this calendar to support long-term climate memory.",
      aiFieldsFallow: "Fields are mostly <strong>fallow</strong>; prioritise house repair and livestock care.",
      aiSowing: "Good month to organise <strong>sowing teams</strong> and share irrigation turns fairly.",
      aiHarvest: "Focus on <strong>harvest and safe storage</strong> of grain and fodder.",
      aiWaterGood: "Water mills and irrigation can work wellтАФplan shared use and maintenance.",
      aiHazardHigh: "Avoid camping, grazing or new building close to steep streams or unstable slopes.",
      aiMigrationHigh: "Migration is high; remaining villagers may need <strong>extra coordination</strong> for labour-intensive tasks."
    },
    hi: {
      title: "рд▓рджреНрджрд╛рдЦ рдкрд╛рд░рд┐рд╕реНрдерд┐рддрд┐рдХ рдХреИрд▓реЗрдВрдбрд░",
      subtitle: "рд▓рджреНрджрд╛рдЦ рдХреА рдПрдХ рдКрдБрдЪреА рдШрд╛рдЯреА рдХреЗ рд▓рд┐рдП рдореМрд╕рдо, рдмрд░реНрдл, рдкрд╛рдиреА, рдЪрд╛рд░рд╛рдЧрд╛рд╣ рдФрд░ рдЖрдЬреАрд╡рд┐рдХрд╛ рдХрд╛ рдорд╛рд╣рд╡рд╛рд░ рд╕рд╛рд░ред рдЗрд╕реЗ рдкреЛрд╕реНрдЯрд░ рдХреА рддрд░рд╣ рдЫрд╛рдкрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдЧрд╛рдБрд╡ рдХреА рдмреИрдардХреЛрдВ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред",
      yearLabel: "рдЬрд▓рд╡рд╛рдпреБ рдЖрдзрд╛рд░ рдЕрд╡рдзрд┐: 2018тАУ2024 ┬╖ рдбреЗрдЯрд╛: Sentinel-2, CHIRPS рдФрд░ рд╕рдореБрджрд╛рдп рдХрд╛ рдЬреНрдЮрд╛рди",
      aiTagline: "ЁЯФН рдпрд╣ рд╕рд░рд▓ тАШAI рд╕рд╣рд╛рдпрдХтАЩ рд╕рдВрдХреЗрддрдХреЛрдВ рдХреЛ рд╕реНрдерд╛рдиреАрдп рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рди рд╕рд▓рд╛рд╣ рдореЗрдВ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред",
      filterField: "рдЦреЗрддреА рдХреЗ рдХрд╛рдо рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛",
      filterGrazing: "рдЪрд░рд╛рдИ / рдЪрд╛рд░реЗ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛",
      filterAgri: "рдореБрдЦреНрдп рдмреБрд╡рд╛рдИ / рдХрдЯрд╛рдИ рдорд╛рд╣",
      filterClear: "рд╕рднреА рдорд╣реАрдиреЗ рджрд┐рдЦрд╛рдПрдБ",
      legendTitle: "рд▓реЗрдЬрдирдб тАУ рдЗрд╕ рдХреИрд▓реЗрдВрдбрд░ рдХреЛ рдХреИрд╕реЗ рдкрдврд╝реЗрдВ",
      legendFrostHigh: "рддреЗрдЬрд╝ рдкрд╛рд▓рд╛ / рдмрд╣реБрдд рдардВрдб",
      legendFrostSome: "рд░рд╛рдд рдореЗрдВ рд╣рд▓реНрдХрд╛ рдкрд╛рд▓рд╛",
      legendFrostLow: "рдмрд╣реБрдд рдХрдо рдкрд╛рд▓рд╛",
      legendSnowDeep: "рдЦреЗрддреЛрдВ рдкрд░ рдЧрд╣рд░реА рдмрд░реНрдл",
      legendSnowPartial: "рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдкрд░ рдмрд░реНрдл",
      legendSnowNone: "рдЦреЗрддреЛрдВ рдкрд░ рдмрд░реНрдл рдирд╣реАрдВ",
      legendPasturePeak: "рдЪрд╛рд░рд╛рдЧрд╛рд╣ рд╕рдмрд╕реЗ рд╣рд░рд╛",
      legendPastureGrowing: "рдЪрд╛рд░рд╛рдЧрд╛рд╣ рдмрдврд╝ рд░рд╣рд╛ рд╣реИ",
      legendPasturePoor: "рдЪрд╛рд░рд╛рдЧрд╛рд╣ рдХрдордЬрд╝реЛрд░ / рднреВрд░рд╛",
      legendWaterHigh: "рдкрд╛рдиреА рдЕрдзрд┐рдХ",
      legendWaterMed: "рдкрд╛рдиреА рдордзреНрдпрдо",
      legendWaterLow: "рдкрд╛рдиреА рдХрдо",
      legendFieldGood: "рдЦреЗрддреА рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛ рдорд╣реАрдирд╛",
      legendSowingHarvest: "рдореБрдЦреНрдп рдмреБрд╡рд╛рдИ / рдХрдЯрд╛рдИ рдХрд╛ рдорд╣реАрдирд╛",
      selectMonth: "рдХрд┐рд╕реА рдорд╣реАрдиреЗ рдХреЛ рдЪреБрдиреЗрдВ",
      detailHint: "рдХрд┐рд╕реА рднреА рдорд╣реАрдиреЗ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдЙрд╕ рд╕рдордп рдХреЗ рд▓рд┐рдП рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рджреЗрдЦреЗрдВред рдЗрди рдЫреЛрдЯреА рд╕рд▓рд╛рд╣реЛрдВ рдХреЛ рд▓рджреНрджрд╛рдЦреА рдпрд╛ рд╣рд┐рдиреНрджреА рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░ рд╕реНрдХреВрд▓реЛрдВ рдпрд╛ рдкрдВрдЪрд╛рдпрдд рдмреИрдардХреЛрдВ рдореЗрдВ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред",
      aiHelperTitle: "AI рд╕рд╣рд╛рдпрдХ",
      aiHelperStart: "рдЬреИрд╕реЗ рд╣реА рдЖрдк рдХреЛрдИ рдорд╣реАрдирд╛ рдЪреБрдиреЗрдВрдЧреЗ, рдореИрдВ рдореБрдЦреНрдп рдХрд╛рдореЛрдВ рдХрд╛ рд╕рд╛рд░ рдмрддрд╛ рджреВрдБрдЧрд╛ред",
      hint: "рдЯрд┐рдк: рдЖрдк рдЗрд╕ рдХреИрд▓реЗрдВрдбрд░ рдХреЗ рдкреНрд░рд┐рдВрдЯ рдкрд░ рд░рдВрдЧреАрди рд╕реНрдЯрд┐рдХрд░ рдпрд╛ рдкреЗрди рд╕реЗ рд╕реНрдерд╛рдиреАрдп рддреНрдпреЛрд╣рд╛рд░ (рдЬреИрд╕реЗ рдлрд░рд╡рд░реА рдореЗрдВ рдбреЛрд╕реНрдореЛрдЪреЗ, рдЬреБрд▓рд╛рдИ рдореЗрдВ рд╣реЗрдорд┐рд╕ рддреНрд╢реЗрдЪреВ, рд╕рд┐рддрдВрдмрд░ рдореЗрдВ рд╣рд╛рд░реНрд╡реЗрд╕реНрдЯ рдлреЗрд╕реНрдЯрд┐рд╡рд▓), рдмреБрд╡рд╛рдИ рдХреА рддрд╛рд░реАрдЦреЗрдВ, рдкрд╢реБ рдЪрд░рд╛рдИ рдФрд░ рд╕реНрдХреВрд▓ рдХрд╛рд░реНрдпрдХреНрд░рдо рдЪрд┐рд╣реНрдирд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред",
      metricTemp: "рдФрд╕рдд рддрд╛рдкрдорд╛рди",
      metricRain: "рд╡рд░реНрд╖рд╛ (CHIRPS)",
      metricRantak: "рд░рд╛рдВрддрдХ",
      metricIrrigation: "рд╕рд┐рдВрдЪрд╛рдИ",
      metricLabour: "рдордЬрджреВрд░реА рдХреА рдЬрд╝рд░реВрд░рдд",
      metricMigration: "рдкреНрд░рд╡рд╛рд╕ рд╕реНрддрд░",
      labelRainRel: "рдорд╛рд╕рд┐рдХ CHIRPS рд╡рд░реНрд╖рд╛ (рд╕рдмрд╕реЗ рдЬрд╝реНрдпрд╛рджрд╛ рдмрд░рд╕рд╛рдд рд╡рд╛рд▓реЗ рдорд╣реАрдиреЗ рдХреЗ рдЕрдиреБрдкрд╛рдд рдореЗрдВ)",
      sectionConditions: "рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпрд╛рдБ",
      sectionWater: "рдкрд╛рдиреА рдФрд░ рд╣рд┐рдо",
      sectionLivelihoods: "рдЖрдЬреАрд╡рд┐рдХрд╛ рдФрд░ рдХреГрд╖рд┐",
      sectionBiodiversity: "рдЬреИрд╡ рд╡рд┐рд╡рд┐рдзрддрд╛ рдФрд░ рд╡рдиреНрдпрдЬреАрд╡",
      sectionBuilt: "рдирд┐рд░реНрдорд┐рдд рд╡рд╛рддрд╛рд╡рд░рдг рдФрд░ рд╕рдВрд╕реНрдХреГрддрд┐",
      labelFrost: "рдкрд╛рд▓рд╛",
      labelSnowFields: "рдЦреЗрддреЛрдВ рдкрд░ рдмрд░реНрдл",
      labelSnowSource: "рдКрдкрд░реА рдЬрд▓рдЧреНрд░рд╣рдг рдореЗрдВ рдмрд░реНрдл",
      labelPasture: "рдЪрд╛рд░рд╛рдЧрд╛рд╣ рдХреА рд╕реНрдерд┐рддрд┐",
      labelWater: "рдкрд╛рдиреА рдХреА рд╕реНрдерд┐рддрд┐",
      labelHazard: "рдмрд╛рдврд╝ / рднреВрд╕реНрдЦрд▓рди рдЬреЛрдЦрд┐рдо",
      labelRantak: "рд░рд╛рдВрддрдХ (рдкрд╛рдиреА рдХреА рдЪрдХреНрдХреА)",
      labelIrrigationRel: "рд╕рд┐рдВрдЪрд╛рдИ рдХреА рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛",
      labelIceStupa: "рдЖрдЗрд╕ рд╕реНрддреВрдкрд╛ рдХреА рд╕реНрдерд┐рддрд┐",
      labelSpringFlow: "рдЪрд╢реНрдореЗ / рдирд╛рд▓реЗ рдХрд╛ рдмрд╣рд╛рд╡",
      labelMainCrop: "рдореБрдЦреНрдп рдлрд╕рд▓реА рдЧрддрд┐рд╡рд┐рдзрд┐",
      labelCropRisk: "рдлрд╕рд▓ рдЬреЛрдЦрд┐рдо рдЯрд┐рдкреНрдкрдгреА",
      labelLabourDemand: "рдордЬрджреВрд░реА рдХреА рдорд╛рдВрдЧ",
      labelMigrationLevel: "рдмрд╛рд╣рд░реА рдкреНрд░рд╡рд╛рд╕ рд╕реНрддрд░",
      labelMedicinal: "рдФрд╖рдзреАрдп рдкреМрдзреЗ",
      labelWildlife: "рд╡рдиреНрдпрдЬреАрд╡ рд╕рдВрдШрд░реНрд╖ рдЬреЛрдЦрд┐рдо",
      labelHeating: "рд╣реАрдЯрд┐рдВрдЧ рдХреА рдЬрд╝рд░реВрд░рдд",
      labelRoofUse: "рдЫрдд рдХрд╛ рдЙрдкрдпреЛрдЧ",
      labelCulture: "рд╕рд╛рдВрд╕реНрдХреГрддрд┐рдХ рдХрд╛рд░реНрдпрдХреНрд░рдо",
      aiSeason: "рдЛрддреБ",
      aiNoteUnusual: "рд▓рдВрдмреА рдЕрд╡рдзрд┐ рдХреА рдЬрд▓рд╡рд╛рдпреБ рд╕реНрдореГрддрд┐ рдХреЗ рд▓рд┐рдП, рдореМрд╕рдо, рдмрд░реНрдл рдФрд░ рдкрд╛рдиреА рдореЗрдВ рджрд┐рдЦрдиреЗ рд╡рд╛рд▓реЗ рдЕрд╕рд╛рдорд╛рдиреНрдп рдкреИрдЯрд░реНрди рдЗрд╕ рдХреИрд▓реЗрдВрдбрд░ рдкрд░ рдиреЛрдЯ рдХрд░реЗрдВред",
      aiFieldsFallow: "рдЕрдзрд┐рдХрддрд░ рдЦреЗрдд <strong>рдкрд░рддреА</strong> рд╣реИрдВ; рдШрд░ рдХреА рдорд░рдореНрдордд рдФрд░ рдкрд╢реБ рджреЗрдЦрднрд╛рд▓ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред",
      aiSowing: "рдпрд╣ <strong>рдмреБрд╡рд╛рдИ рдХреА рдЯреАрдо</strong> рдмрдирд╛рдиреЗ рдФрд░ рд╕рд┐рдВрдЪрд╛рдИ рдХреА рдмрд╛рд░реА рдиреНрдпрд╛рдпрдкреВрд░реНрдг рдмрд╛рдБрдЯрдиреЗ рдХрд╛ рдЕрдЪреНрдЫрд╛ рдорд╣реАрдирд╛ рд╣реИред",
      aiHarvest: "рдЕрдирд╛рдЬ рдФрд░ рдЪрд╛рд░реЗ рдХреА <strong>рдХрдЯрд╛рдИ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рднрдВрдбрд╛рд░рдг</strong> рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред",
      aiWaterGood: "рдкрд╛рдиреА рдХреА рдЪрдХреНрдХреА рдФрд░ рд╕рд┐рдВрдЪрд╛рдИ рдЕрдЪреНрдЫреА рддрд░рд╣ рдЪрд▓ рд╕рдХрддреА рд╣реИтАФрд╕рд╛рдЭрд╛ рдЙрдкрдпреЛрдЧ рдФрд░ рд░рдЦрд░рдЦрд╛рд╡ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдПрдВред",
      aiHazardHigh: "<span style='color:#e53935;'>рддреЗрдЬрд╝ рдзрд╛рд░рд╛ рд╡рд╛рд▓реЗ рдирд╛рд▓реЛрдВ рдпрд╛ рдЕрд╕реНрдерд┐рд░ рдврд▓рд╛рдиреЛрдВ рдХреЗ рдкрд╛рд╕ рдбреЗрд░рд╛, рдЪрд░рд╛рдИ рдпрд╛ рдирдпрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рд╕реЗ рдмрдЪреЗрдВред</span>",
      aiMigrationHigh: "рдкреНрд░рд╡рд╛рд╕ рдЕрдзрд┐рдХ рд╣реИ; рдЧрд╛рдБрд╡ рдореЗрдВ рдмрдЪреЗ рд▓реЛрдЧ рд╢реНрд░рдо-рдкреНрд░рдзрд╛рди рдХрд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП <strong>рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдордиреНрд╡рдп</strong> рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдПрдВред"
    },
    ur: {
      title: "┘Д╪п╪з╪о ┘Е╪з╪н┘И┘Д█М╪з╪к█М ┌й█М┘Д┘Ж┌И╪▒",
      subtitle: "┘Д╪п╪з╪о ┌й█М ╪з█М┌й ╪и┘Д┘Ж╪п ┘И╪з╪п█М ┌й█Т ┘Д█М█Т ┘Е┘И╪│┘Е╪М ╪и╪▒┘Б╪М ┘╛╪з┘Ж█М╪М ┌Ж╪▒╪з┌п╪з█Б ╪з┘И╪▒ ╪▒┘И╪▓┌п╪з╪▒ ┌й█М ┘Е╪з█Б ╪и█Б ┘Е╪з█Б ╪м┌╛┘Д┌й█Ф ╪з╪│█Т ┘╛┘И╪│┘╣╪▒ ┌й█М ╪┤┌й┘Д ┘Е█М┌║ ┌Ж┌╛╪з┘╛ ┌й╪▒ ┌п╪з╪д┌║ ┌й█М ┘Е█М┘╣┘Ж┌п┘И┌║ ┘Е█М┌║ ╪з╪│╪к╪╣┘Е╪з┘Д ┌й█М╪з ╪м╪з ╪│┌й╪к╪з █Б█Т█Ф",
      yearLabel: "╪в╪и ┘И █Б┘И╪з ┌й█М ╪и┘Ж█М╪з╪п: 2018тАУ2024 ┬╖ ┌И█М┘╣╪з: Sentinel-2╪М CHIRPS ╪з┘И╪▒ ┘Е┘В╪з┘Е█М ┘Е╪╣┘Д┘И┘Е╪з╪к",
      aiTagline: "ЁЯФН █М█Б ╪│╪з╪п█Б тАШAI ┘Е╪п╪п┌п╪з╪▒тАЩ ╪з╪┤╪з╪▒┘И┌║ ┌й┘И ┘Е┘В╪з┘Е█М ┘Д┘И┌п┘И┌║ ┌й█Т ┘Д█М█Т ╪в╪│╪з┘Ж ┘Е╪┤┘И╪▒█Т ┘Е█М┌║ ╪и╪п┘Д ╪п█М╪к╪з █Б█Т█Ф",
      filterField: "┌й┌╛█М╪к█М ┌й█Т ┌й╪з┘Е ┌й█Т ┘Д█М█Т ╪з┌Ж┌╛╪з",
      filterGrazing: "┌Ж╪▒╪з╪ж█М / ┌Ж╪з╪▒█Б ┌й█Т ┘Д█М█Т ╪з┌Ж┌╛╪з",
      filterAgri: "╪з█Б┘Е ╪и┘И╪з╪ж█М / ┌й┘╣╪з╪ж█М ┘Е█Б█М┘Ж█Б",
      filterClear: "╪к┘Е╪з┘Е ┘Е█Б█М┘Ж█Т ╪п┌й┌╛╪з╪ж█М┌║",
      legendTitle: "╪╣┘Д╪з┘Е╪з╪к тАУ ┌й█М┘Д┘Ж┌И╪▒ ┌й█М╪│█Т ┘╛┌С┌╛█М┌║",
      legendFrostHigh: "╪│╪о╪к ┌й█Б╪▒ / ╪и█Б╪к ╪│╪▒╪п█М",
      legendFrostSome: "╪▒╪з╪к ┌й┘И █Б┘Д┌й█М ┌й█Б╪▒",
      legendFrostLow: "┌й┘Е ┌й█Б╪▒",
      legendSnowDeep: "┌й┌╛█М╪к┘И┌║ ┘╛╪▒ ┌п█Б╪▒█М ╪и╪▒┘Б",
      legendSnowPartial: "┌й┌Ж┌╛ ╪н╪╡┘С┘И┌║ ┘╛╪▒ ╪и╪▒┘Б",
      legendSnowNone: "┌й┌╛█М╪к┘И┌║ ┘╛╪▒ ╪и╪▒┘Б ┘Ж█Б█М┌║",
      legendPasturePeak: "┌Ж╪з╪▒█Б ┌п╪з█Б ╪│╪и ╪│█Т █Б╪▒█М",
      legendPastureGrowing: "┌Ж╪з╪▒█Б ┌п╪з█Б ╪и┌С┌╛ ╪▒█Б█М █Б█Т",
      legendPasturePoor: "┌Ж╪з╪▒█Б ┌п╪з█Б ┌й┘Е╪▓┘И╪▒ / ╪и┌╛┘И╪▒█М",
      legendWaterHigh: "┘╛╪з┘Ж█М ╪▓█М╪з╪п█Б",
      legendWaterMed: "┘╛╪з┘Ж█М ╪п╪▒┘Е█М╪з┘Ж█Б",
      legendWaterLow: "┘╛╪з┘Ж█М ┌й┘Е",
      legendFieldGood: "┌й┌╛█М╪к█М ┌й█Т ┘Д█М█Т ╪з┌Ж┌╛╪з ┘Е█Б█М┘Ж█Б",
      legendSowingHarvest: "╪з█Б┘Е ╪и┘И╪з╪ж█М / ┌й┘╣╪з╪ж█М ┘Е█Б█М┘Ж█Б",
      selectMonth: "┌й┘И╪ж█М ┘Е█Б█М┘Ж█Б ┘Е┘Ж╪к╪о╪и ┌й╪▒█М┌║",
      detailHint: "┌й╪│█М ┘Е█Б█М┘Ж█Т ┘╛╪▒ ┌й┘Д┌й ┌й╪▒█М┌║ ╪з┘И╪▒ ╪з╪│ ┘И┘В╪к ┌й█Т ┘Д█М█Т ╪к┘Б╪╡█М┘Д█М ╪▒█Б┘Ж┘Е╪з╪ж█М ╪п█М┌й┌╛█М┌║█Ф ╪в┘╛ ╪з┘Ж ┘Е╪о╪к╪╡╪▒ ┘Е╪┤┘И╪▒┘И┌║ ┌й┘И ┘Д╪п╪з╪о█М╪М █Б┘Ж╪п█М █М╪з ╪з╪▒╪п┘И ┘Е█М┌║ ╪к╪▒╪м┘Е█Б ┌й╪▒ ┌й█Т ╪з╪│┌й┘И┘Д┘И┌║ ╪з┘И╪▒ ┌п╪з╪д┌║ ┌й█М ┘Е█М┘╣┘Ж┌п┘И┌║ ┘Е█М┌║ ╪з╪│╪к╪╣┘Е╪з┘Д ┌й╪▒ ╪│┌й╪к█Т █Б█М┌║█Ф",
      aiHelperTitle: "AI ┘Е╪п╪п┌п╪з╪▒",
      aiHelperStart: "╪м█М╪│█Т █Б█М ╪в┘╛ ┌й┘И╪ж█М ┘Е█Б█М┘Ж█Б ┘Е┘Ж╪к╪о╪и ┌й╪▒█М┌║ ┌п█Т╪М ┘Е█М┌║ ╪з█Б┘Е ┌й╪з┘Е┘И┌║ ┌й╪з ╪о┘Д╪з╪╡█Б ╪и╪к╪з╪д┌║ ┌п╪з█Ф",
      hint: "┘╣┘Р┘╛: ╪в┘╛ ╪з╪│ ┌й█М┘Д┘Ж┌И╪▒ ┌й█Т ┘╛╪▒┘Ж┘╣ ┘╛╪▒ ╪▒┘Ж┌п█М┘Ж ╪з╪│┘╣█М┌й╪▒ █М╪з ┘В┘Д┘Е ╪│█Т ┘Е┘В╪з┘Е█М ╪к█Б┘И╪з╪▒╪М ╪и┘И╪з╪ж█М ┌й█М ╪к╪з╪▒█М╪о█М┌║╪М ┘Е┘И█М╪┤█М┘И┌║ ┌й█М ┘Ж┘В┘Д ┘И ╪н╪▒┌й╪к ╪з┘И╪▒ ╪з╪│┌й┘И┘Д ┌й█Т ┘╛╪▒┘И┌п╪▒╪з┘Е ┘Ж╪┤╪з┘Ж ╪▓╪п ┌й╪▒ ╪│┌й╪к█Т █Б█М┌║█Ф",
      metricTemp: "╪з┘И╪│╪╖ ╪п╪▒╪м█Б┘┤ ╪н╪▒╪з╪▒╪к",
      metricRain: "╪и╪з╪▒╪┤ (CHIRPS)",
      metricRantak: "╪▒┘О╪з┘Ж╪к┌й",
      metricIrrigation: "╪в╪и┘╛╪з╪┤█М",
      metricLabour: "┘Е╪н┘Ж╪к ┌й█М ╪╢╪▒┘И╪▒╪к",
      metricMigration: "█Б╪м╪▒╪к ┌й█М ╪│╪╖╪н",
      labelRainRel: "┘Е╪з█Б╪з┘Ж█Б CHIRPS ╪и╪з╪▒╪┤ (╪│╪и ╪│█Т ╪▓█М╪з╪п█Б ╪и╪з╪▒╪┤ ┘И╪з┘Д█Т ┘Е█Б█М┘Ж█Т ┌й█Т ┘Е┘В╪з╪и┘Д█Т ┘Е█М┌║)",
      sectionConditions: "╪н╪з┘Д╪з╪к",
      sectionWater: "┘╛╪з┘Ж█М ╪з┘И╪▒ ╪и╪▒┘Б",
      sectionLivelihoods: "╪▒┘И╪▓┌п╪з╪▒ ╪з┘И╪▒ ╪▓╪▒╪з╪╣╪к",
      sectionBiodiversity: "╪н█М╪з╪к█М╪з╪к█М ╪к┘Ж┘И╪╣ ╪з┘И╪▒ ╪м┘Ж┌п┘Д█М ╪н█М╪з╪к",
      sectionBuilt: "╪и╪│╪з █Б┘И╪з ┘Е╪з╪н┘И┘Д ╪з┘И╪▒ ╪л┘В╪з┘Б╪к",
      labelFrost: "┌й█Б╪▒",
      labelSnowFields: "┌й┌╛█М╪к┘И┌║ ┘╛╪▒ ╪и╪▒┘Б",
      labelSnowSource: "╪и╪з┘Д╪з╪ж█М ╪╣┘Д╪з┘В█Т ┘Е█М┌║ ╪и╪▒┘Б",
      labelPasture: "┌Ж╪▒╪з█Б ┌п╪з█Б ┌й█М ╪н╪з┘Д╪к",
      labelWater: "┘╛╪з┘Ж█М ┌й█М ╪╡┘И╪▒╪к┘Р ╪н╪з┘Д",
      labelHazard: "╪│█М┘Д╪з╪и / ╪и┌╛┘И╪│╪▒┌й┘Ж█Т ┌й╪з ╪о╪╖╪▒█Б",
      labelRantak: "╪▒┘О╪з┘Ж╪к┌й (┘╛╪з┘Ж█М ┌й█М ┌Ж┌й█М)",
      labelIrrigationRel: "╪в╪и┘╛╪з╪┤█М ┌й█М ┘╛╪з╪ж█М╪п╪з╪▒█М",
      labelIceStupa: "╪в╪ж╪│ ╪з╪│┘╣┘И┘╛╪з ┌й█М ╪н╪з┘Д╪к",
      labelSpringFlow: "┌Ж╪┤┘Е█Б / ┘Ж╪з┘Д█Т ┌й╪з ╪и█Б╪з╪д",
      labelMainCrop: "╪з█Б┘Е ╪▓╪▒╪╣█М ╪│╪▒┌п╪▒┘Е█М",
      labelCropRisk: "┘Б╪╡┘Д ┌й╪з ╪о╪╖╪▒█Б ┘Ж┘И┘╣",
      labelLabourDemand: "┘Е╪н┘Ж╪к ┌й█М ┘Е╪з┘Ж┌п",
      labelMigrationLevel: "╪и█М╪▒┘И┘Ж█М █Б╪м╪▒╪к ┌й█М ╪│╪╖╪н",
      labelMedicinal: "╪з╪п┘И█М╪з╪к█М ┘╛┘И╪п█Т",
      labelWildlife: "╪м┘Ж┌п┘Д█М ╪н█М╪з╪к ┌й█Т ╪к╪╡╪з╪п┘Е ┌й╪з ╪о╪╖╪▒█Б",
      labelHeating: "┌п╪▒┘Е╪з╪ж╪┤ ┌й█М ╪╢╪▒┘И╪▒╪к",
      labelRoofUse: "┌Ж┌╛╪к ┌й╪з ╪з╪│╪к╪╣┘Е╪з┘Д",
      labelCulture: "╪л┘В╪з┘Б╪к█М ╪к┘В╪з╪▒█М╪и",
      aiSeason: "┘Е┘И╪│┘Е",
      aiNoteUnusual: "┘Е┘И╪│┘Е╪М ╪и╪▒┘Б █М╪з ┘╛╪з┘Ж█М ┘Е█М┌║ ╪║█М╪▒ ┘Е╪╣┘Е┘И┘Д█М ┘╛█М┘╣╪▒┘Ж ╪з╪│ ┌й█М┘Д┘Ж┌И╪▒ ┘╛╪▒ ┘Ж┘И┘╣ ┌й╪▒█М┌║ ╪к╪з┌й█Б ╪╖┘И█М┘Д ┘Е╪п╪к█М ┘Е┘И╪│┘Е█М █М╪з╪п╪п╪з╪┤╪к ╪и┘Ж ╪│┌й█Т█Ф",
      aiFieldsFallow: "╪▓█М╪з╪п█Б ╪к╪▒ ┌й┌╛█М╪к <strong>╪и█М┌й╪з╪▒</strong> █Б█М┌║╪Ы ┌п┌╛╪▒ ┌й█М ┘Е╪▒┘Е╪к ╪з┘И╪▒ ┘Е┘И█М╪┤█М┘И┌║ ┌й█М ╪п█М┌й┌╛ ╪и┌╛╪з┘Д ┌й┘И ╪к╪▒╪м█М╪н ╪п█М┌║█Ф",
      aiSowing: "█М█Б <strong>╪и┘И╪з╪ж█М ┌й█М ┘╣█М┘Е█М┌║</strong> ╪и┘Ж╪з┘Ж█Т ╪з┘И╪▒ ╪в╪и┘╛╪з╪┤█М ┌й█М ╪и╪з╪▒█М ┘Е┘Ж╪╡┘Б╪з┘Ж█Б ╪и╪з┘Ж┘╣┘Ж█Т ┌й╪з ╪з┌Ж┌╛╪з ┘Е█Б█М┘Ж█Б █Б█Т█Ф",
      aiHarvest: "╪з┘Ж╪з╪м ╪з┘И╪▒ ┌Ж╪з╪▒█Т ┌й█М <strong>┌й┘╣╪з╪ж█М ╪з┘И╪▒ ┘Е╪н┘Б┘И╪╕ ╪░╪о█М╪▒█Б</strong> ┘╛╪▒ ╪к┘И╪м█Б ╪п█М┌║█Ф",
      aiWaterGood: "┘╛╪з┘Ж█М ┌й█М ┌Ж┌й█М ╪з┘И╪▒ ╪в╪и┘╛╪з╪┤█М ╪з┌Ж┌╛█М ╪╖╪▒╪н ┌Ж┘Д ╪│┌й╪к█М █Б█ТтАФ┘Е╪┤╪к╪▒┌й█Б ╪з╪│╪к╪╣┘Е╪з┘Д ╪з┘И╪▒ ╪п█М┌й┌╛ ╪и┌╛╪з┘Д ┌й█М ┘Е┘Ж╪╡┘И╪и█Б ╪и┘Ж╪п█М ┌й╪▒█М┌║█Ф",
      aiHazardHigh: "╪к█М╪▓ ╪п┌╛╪з╪▒┘И┌║ █М╪з ╪║█М╪▒ ┘Е╪│╪к╪н┌й┘Е ┌И┌╛┘Д┘И╪з┘Ж┘И┌║ ┌й█Т ┘В╪▒█М╪и ┌И█М╪▒█Б╪М ┌Ж╪▒╪з╪ж█М █М╪з ┘Ж╪ж█М ╪к╪╣┘Е█М╪▒ ╪│█Т ┌п╪▒█М╪▓ ┌й╪▒█М┌║█Ф",
      aiMigrationHigh: "█Б╪м╪▒╪к ╪▓█М╪з╪п█Б █Б█Т╪Ы ┌п╪з╪д┌║ ┘Е█М┌║ ┘Е┘И╪м┘И╪п ┘Д┘И┌п ┘Е╪н┘Ж╪к ╪╖┘Д╪и ┌й╪з┘Е┘И┌║ ┌й█Т ┘Д█М█Т <strong>╪з╪╢╪з┘Б█М █Б┘Е ╪в█Б┘Ж┌п█М</strong> ┌й█М ┘Е┘Ж╪╡┘И╪и█Б ╪и┘Ж╪п█М ┌й╪▒█М┌║█Ф"
    }
  };

  let currentLang = "en";

  function t(key) {
    const base = i18n["en"];
    const langDict = i18n[currentLang] || {};
    if (key in langDict) return langDict[key];
    if (key in base) return base[key];
    return key;
  }

  // =========================
  // DATA (CHIRPS-only precip; valley data)
  // =========================
  const calendarData = [
    {"month":1,"name":"January","frost":"High frost","snowValley":"Fields partly snow-covered","snowSource":"Source snow HIGH","pasture":"Pasture poor / brown","water":"Water HIGH","hazard":"Low flood / landslide risk","meanTemp":-16.00749432176959,"rainChirps":22.999170750736237,"snowValleyFrac":0.7136717485800348,"snowSourceFrac":0.9373675656916746,"RANTAK_class":"Low","IRRIGATION_reliability":"Low","ICE_STUPA_status":"Building","SPRING_STREAM_flow":"Low","LABOUR_demand":"Low","MIGRATION_level":"Medium","MAIN_CROP_activity":"Fallow / snow-covered","CROP_RISK_note":"Extreme cold; no cropping possible; protect stored food and water.","MEDICINAL_plants_status":"Dormant/Unavailable","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"High","ROOF_USE_status":"Snow load only / no use","CULTURAL_events":"Winter religious gatherings; sometimes around Losar (Tibetan New Year) depending on the lunar calendar","COMMUNITY_tip":"Deep winter. Focus on animal care, household repairs, and storing drinking water indoors. Avoid long-distance travel during storms."},
    {"month":2,"name":"February","frost":"High frost","snowValley":"Fields partly snow-covered","snowSource":"Source snow HIGH","pasture":"Pasture poor / brown","water":"Water HIGH","hazard":"Low flood / landslide risk","meanTemp":-15.952024852046277,"rainChirps":25.049912364679076,"snowValleyFrac":0.9371777614317716,"snowSourceFrac":0.5220893639625693,"RANTAK_class":"Low","IRRIGATION_reliability":"Low","ICE_STUPA_status":"Building","SPRING_STREAM_flow":"Low","LABOUR_demand":"Low","MIGRATION_level":"Medium","MAIN_CROP_activity":"Fallow / snow-covered","CROP_RISK_note":"Very cold; roads and canals frozen; no sowing.","MEDICINAL_plants_status":"Dormant/Unavailable","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"High","ROOF_USE_status":"Snow load only / no use","CULTURAL_events":"Dosmoche (scapegoat festival) at Leh and monasteries; winter monastery festivals","COMMUNITY_tip":"Continue winter feeding of animals, keep water pipes and storage from freezing, and prepare tools for spring work."},
    {"month":3,"name":"March","frost":"High frost","snowValley":"Fields partly snow-covered","snowSource":"Source snow HIGH","pasture":"Pasture poor / brown","water":"Water HIGH","hazard":"Low flood / landslide risk","meanTemp":-11.875100318839367,"rainChirps":42.85124708562522,"snowValleyFrac":0.38275862068965514,"snowSourceFrac":0.7368421052631579,"RANTAK_class":"Medium","IRRIGATION_reliability":"Medium","ICE_STUPA_status":"Melting","SPRING_STREAM_flow":"Low","LABOUR_demand":"Medium","MIGRATION_level":"Medium","MAIN_CROP_activity":"Field preparation","CROP_RISK_note":"Late frosts still possible; water often scarce at sowing time.","MEDICINAL_plants_status":"Growing/Not ready","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"High","ROOF_USE_status":"Snow load / some drying","CULTURAL_events":"Stok Guru Tsechu, Matho Nagrang at nearby monasteries (timing depends on lunar calendar)","COMMUNITY_tip":"Start repairing terraces and canals, plan sowing areas, and coordinate water turns. Watch for sudden meltwater and night frost."},
    {"month":4,"name":"April","frost":"Some frost","snowValley":"Fields partly snow-covered","snowSource":"Source snow MEDIUM","pasture":"Pasture poor / brown","water":"Water HIGH","hazard":"Low flood / landslide risk","meanTemp":-6.752035797165173,"rainChirps":26.093345325809426,"snowValleyFrac":0.159271523178808,"snowSourceFrac":0.4157754010695187,"RANTAK_class":"Medium","IRRIGATION_reliability":"Medium","ICE_STUPA_status":"Melting","SPRING_STREAM_flow":"Medium","LABOUR_demand":"High","MIGRATION_level":"Low","MAIN_CROP_activity":"Sowing barley/peas/potato; vegetable nursery","CROP_RISK_note":"High frost risk for young seedlings; irrigation timing is critical.","MEDICINAL_plants_status":"Growing/Not ready","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"Medium","ROOF_USE_status":"Drying small items, dung cakes","CULTURAL_events":"Local spring rituals; some years Saka Dawa preparations begin later in the season","COMMUNITY_tip":"Key sowing month. Use ice-stupa or early meltwater carefully, sow hardy crops first, and protect seedlings from night frost."},
    {"month":5,"name":"May","frost":"Some frost","snowValley":"Fields mostly snow-free","snowSource":"Source snow LOW","pasture":"Pasture poor / brown","water":"Water HIGH","hazard":"Low flood / landslide risk","meanTemp":-1.224687477656174,"rainChirps":19.689288878114346,"snowValleyFrac":0.03115727002967425,"snowSourceFrac":0.08597883597883599,"RANTAK_class":"High","IRRIGATION_reliability":"High","ICE_STUPA_status":"None","SPRING_STREAM_flow":"High","LABOUR_demand":"High","MIGRATION_level":"Medium","MAIN_CROP_activity":"Crop establishment; vegetable sowing/transplanting","CROP_RISK_note":"Excess irrigation can damage tender crops; occasional cold nights.","MEDICINAL_plants_status":"Growing/Not ready","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"Medium","ROOF_USE_status":"Drying fodder and fuel on roofs","CULTURAL_events":"Local agricultural festivals; prayer days for good rainfall and snow","COMMUNITY_tip":"Crops are establishing. Share labour for weeding and the first big irrigations, and monitor water use so all fields receive enough."},
    {"month":6,"name":"June","frost":"Little frost","snowValley":"Fields mostly snow-free","snowSource":"Source snow LOW","pasture":"Pasture growing","water":"Water HIGH","hazard":"Low flood / landslide risk","meanTemp":3.5348226142589414,"rainChirps":29.822979118383914,"snowValleyFrac":0.0,"snowSourceFrac":0.03260869565217391,"RANTAK_class":"High","IRRIGATION_reliability":"Medium","ICE_STUPA_status":"None","SPRING_STREAM_flow":"High","LABOUR_demand":"High","MIGRATION_level":"Medium","MAIN_CROP_activity":"Weeding and first major irrigations; vegetable care","CROP_RISK_note":"Strong sun and wind can dry soils quickly; local storms possible.","MEDICINAL_plants_status":"Growing/Not ready","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"Low","ROOF_USE_status":"Drying fodder/vegetables","CULTURAL_events":"Saka Dawa, Sindhu Darshan, Yuru Kabgyat (regional monastery festivals depending on lunar dates)","COMMUNITY_tip":"Peak work in fields. Organize communal irrigation (Dol-chu), weed on time, and keep an eye on sudden showers or hail."},
    {"month":7,"name":"July","frost":"Little frost","snowValley":"Fields mostly snow-free","snowSource":"Source snow LOW","pasture":"Pasture growing","water":"Water MEDIUM","hazard":"Low flood / landslide risk","meanTemp":7.230176837139319,"rainChirps":25.29526184181948,"snowValleyFrac":0.0,"snowSourceFrac":0.0,"RANTAK_class":"High","IRRIGATION_reliability":"Medium","ICE_STUPA_status":"None","SPRING_STREAM_flow":"Medium","LABOUR_demand":"High","MIGRATION_level":"High","MAIN_CROP_activity":"Vegetable harvest begins; cereal crops in full growth","CROP_RISK_note":"Cloudburst and heavy-rain risk; hail can damage standing crops.","MEDICINAL_plants_status":"Ready_to_harvest","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"Low","ROOF_USE_status":"Roofs heavily used for drying","CULTURAL_events":"Hemis Tsechu and other summer monastery festivals in the region","COMMUNITY_tip":"Busy month in fields and off-farm work. Harvest early vegetables, dry produce on roofs, and avoid camping or building too close to streams."},
    {"month":8,"name":"August","frost":"Little frost","snowValley":"Fields mostly snow-free","snowSource":"Source snow LOW","pasture":"Pasture peak green","water":"Water MEDIUM","hazard":"Low flood / landslide risk","meanTemp":7.378043842782454,"rainChirps":1.7167218628737906,"snowValleyFrac":0.0,"snowSourceFrac":0.0,"RANTAK_class":"Medium","IRRIGATION_reliability":"High","ICE_STUPA_status":"None","SPRING_STREAM_flow":"High","LABOUR_demand":"High","MIGRATION_level":"Medium","MAIN_CROP_activity":"Start of grain harvest; major vegetable harvest","CROP_RISK_note":"High flood and landslide risk during intense rains.","MEDICINAL_plants_status":"Ready_to_harvest","WILDLIFE_conflict_risk":"High","HEATING_demand":"Low","ROOF_USE_status":"Intense drying and storage on roofs","CULTURAL_events":"Local harvest prayers; Ladakh tourism season festivals in Leh","COMMUNITY_tip":"Begin grain harvest as soon as fields turn golden. Store grain and fodder on high, safe ground and be cautious of flash floods and muddy slopes."},
    {"month":9,"name":"September","frost":"Little frost","snowValley":"Fields mostly snow-free","snowSource":"Source snow LOW","pasture":"Pasture peak green","water":"Water MEDIUM","hazard":"Low flood / landslide risk","meanTemp":4.56145010518325,"rainChirps":24.27856332166897,"snowValleyFrac":0.0,"snowSourceFrac":0.0,"RANTAK_class":"Medium","IRRIGATION_reliability":"Medium","ICE_STUPA_status":"None","SPRING_STREAM_flow":"Medium","LABOUR_demand":"High","MIGRATION_level":"Medium","MAIN_CROP_activity":"Main grain harvest and storage; fodder cutting","CROP_RISK_note":"Early frost possible at higher sites; late storms may spoil drying.","MEDICINAL_plants_status":"Ready_to_harvest","WILDLIFE_conflict_risk":"High","HEATING_demand":"Medium","ROOF_USE_status":"Roofs used for final drying and storage","CULTURAL_events":"Ladakh Harvest Festival period; autumn ceremonies in many villages","COMMUNITY_tip":"Finish harvesting and threshing. Stack fodder securely, protect stored grain from moisture, and prepare fields with manure where possible."},
    {"month":10,"name":"October","frost":"Some frost","snowValley":"Fields mostly snow-free","snowSource":"Source snow LOW","pasture":"Pasture growing","water":"Water MEDIUM","hazard":"Low flood / landslide risk","meanTemp":-0.8066284575477599,"rainChirps":11.843042098016066,"snowValleyFrac":0.0,"snowSourceFrac":0.0,"RANTAK_class":"Low","IRRIGATION_reliability":"Low","ICE_STUPA_status":"None","SPRING_STREAM_flow":"Low","LABOUR_demand":"Medium","MIGRATION_level":"High","MAIN_CROP_activity":"Post-harvest processing; manure application","CROP_RISK_note":"Cold nights and early snow; no new sowing.","MEDICINAL_plants_status":"Dormant/Unavailable","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"Medium","ROOF_USE_status":"Storage use; occasional snow on roofs","CULTURAL_events":"Autumn/winter transition rituals; village meetings about winter preparations","COMMUNITY_tip":"Post-harvest month. Repair irrigation channels, strengthen houses and roofs, and plan livestock feed for the coming winter."},
    {"month":11,"name":"November","frost":"High frost","snowValley":"Fields mostly snow-free","snowSource":"Source snow LOW","pasture":"Pasture poor / brown","water":"Water LOW","hazard":"Low flood / landslide risk","meanTemp":-6.05156200348031,"rainChirps":9.123140812803658,"snowValleyFrac":0.0,"snowSourceFrac":0.0,"RANTAK_class":"Low","IRRIGATION_reliability":"Low","ICE_STUPA_status":"Building","SPRING_STREAM_flow":"Low","LABOUR_demand":"Low","MIGRATION_level":"High","MAIN_CROP_activity":"Fallow; focus on livestock care and house maintenance","CROP_RISK_note":"Hard frosts; first significant snow events.","MEDICINAL_plants_status":"Dormant/Unavailable","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"High","ROOF_USE_status":"Snow load only / little use","CULTURAL_events":"Pre-winter religious events and household rituals","COMMUNITY_tip":"Prepare for deep winter: insulate houses, secure fodder and fuel, and start building or maintaining ice stupas where used."},
    {"month":12,"name":"December","frost":"High frost","snowValley":"Fields partly snow-covered","snowSource":"Source snow HIGH","pasture":"Pasture poor / brown","water":"Water HIGH","hazard":"Low flood / landslide risk","meanTemp":-14.953153400785904,"rainChirps":11.752996045240646,"snowValleyFrac":0.15757575757575756,"snowSourceFrac":0.24509803921568626,"RANTAK_class":"Low","IRRIGATION_reliability":"Low","ICE_STUPA_status":"Building","SPRING_STREAM_flow":"Low","LABOUR_demand":"Low","MIGRATION_level":"High","MAIN_CROP_activity":"Fallow / snow-covered","CROP_RISK_note":"Extreme cold and snow; travel and outdoor work very limited.","MEDICINAL_plants_status":"Dormant/Unavailable","WILDLIFE_conflict_risk":"Medium","HEATING_demand":"High","ROOF_USE_status":"Snow load only / no use","CULTURAL_events":"Losar (Tibetan New Year) often falls around DecтАУJan; winter family and monastery festivals","COMMUNITY_tip":"Deep winter again. Prioritise animal shelters, water storage, and family/community support, and note unusual snow or thaw patterns for the calendar."}
  ];

  const monthsGrid = document.getElementById("monthsGrid");
  const detailMonthName = document.getElementById("detailMonthName");
  const detailTip = document.getElementById("detailTip");
  const detailContent = document.getElementById("detailContent");
  const aiHelperText = document.getElementById("aiHelperText");

  const maxChirps = Math.max(...calendarData.map(m => m.rainChirps));

  function getSeason(month) {
    if ([12, 1, 2].includes(month))
      return currentLang === "hi" ? "рдХрдбрд╝рд╛рдХреЗрджрд╛рд░ рд╕рд░реНрджреА" :
             currentLang === "ur" ? "╪│╪о╪к ╪│╪▒╪п█М" :
             "Deep winter";
    if ([3, 4].includes(month))
      return currentLang === "hi" ? "рд╡рд╕рдВрдд рдХреА рд╢реБрд░реБрдЖрдд" :
             currentLang === "ur" ? "╪и█Б╪з╪▒ ┌й█М ╪┤╪▒┘И╪╣╪з╪к" :
             "Early spring";
    if ([5, 6].includes(month))
      return currentLang === "hi" ? "рдлрд╕рд▓ рдмрдврд╝рдиреЗ рдХрд╛ рд╕рдордп" :
             currentLang === "ur" ? "┘Б╪╡┘Д ╪и┌С┌╛┘Ж█Т ┌й╪з ┘И┘В╪к" :
             "Growing season";
    if ([7, 8].includes(month))
      return currentLang === "hi" ? "рдЧрд░реНрдореА / рдЪрд░рд╛рдИ рдХрд╛ рдЪрд░рдо" :
             currentLang === "ur" ? "┌п╪▒┘Е█М / ┌Ж╪▒╪з╪ж█М ┌й╪з ╪╣╪▒┘И╪м" :
             "Peak summer";
    if ([9, 10].includes(month))
      return currentLang === "hi" ? "рдХрдЯрд╛рдИ рдХрд╛ рд╕рдордп" :
             currentLang === "ur" ? "┌й┘╣╪з╪ж█М ┌й╪з ┘И┘В╪к" :
             "Harvest season";
    return currentLang === "hi" ? "рд╕рд░реНрджреА рдХреА рд╢реБрд░реБрдЖрдд" :
           currentLang === "ur" ? "╪│╪▒╪п█М ┌й█М ╪┤╪▒┘И╪╣╪з╪к" :
           "Early winter";
  }

  function shortStatusIcon(type, value) {
    if (type === "frost") {
      if (value.includes("High")) return "тЭДя╕П";
      if (value.includes("Some")) return "ЁЯзК";
      return "ЁЯМдя╕П";
    }
    if (type === "snow") {
      if (value.includes("mostly snow-covered")) return "тЭДя╕П";
      if (value.includes("partly")) return "ЁЯМия╕П";
      return "ЁЯЪл";
    }
    if (type === "pasture") {
      if (value.includes("peak")) return "ЁЯМ┐";
      if (value.includes("growing")) return "ЁЯМ▒";
      return "ЁЯЯд";
    }
    if (type === "water") {
      if (value.includes("HIGH")) return "ЁЯМК";
      if (value.includes("MEDIUM")) return "ЁЯТж";
      return "ЁЯТз";
    }
    if (type === "hazard") {
      if (value.includes("High")) return "тЪая╕П";
      return "тЬЕ";
    }
    return "тАв";
  }

  function classifyFieldWork(m) {
    if (m.frost.includes("High") || m.snowValley.includes("snow-covered"))
      return {
        label: currentLang === "hi" ? "рдЦреЗрддреА рдХреЗ рд▓рд┐рдП рдХрдордЬрд╝реЛрд░" :
               currentLang === "ur" ? "┌й┌╛█М╪к█М ┌й█Т ┘Д█М█Т ┌й┘Е╪▓┘И╪▒" :
               "Field work poor",
        cls: "bad",
        emoji: "ЁЯЪл"
      };
    if (m.frost.includes("Some"))
      return {
        label: currentLang === "hi" ? "рдЦреЗрддреА рдордзреНрдпрдо" :
               currentLang === "ur" ? "┌й┌╛█М╪к█М ╪п╪▒┘Е█М╪з┘Ж█М" :
               "Field work medium",
        cls: "medium",
        emoji: "ЁЯЯб"
      };
    return {
      label: currentLang === "hi" ? "рдЦреЗрддреА рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛" :
             currentLang === "ur" ? "┌й┌╛█М╪к█М ┌й█Т ┘Д█М█Т ╪з┌Ж┌╛╪з" :
             "Field work good",
      cls: "good",
      emoji: "тЬЕ"
    };
  }

  function classifyGrazing(m) {
    if (m.pasture.includes("peak"))
      return {
        label: currentLang === "hi" ? "рдЪрд░рд╛рдИ рдмрд╣реБрдд рдЕрдЪреНрдЫреА" :
               currentLang === "ur" ? "┌Ж╪▒╪з╪ж█М ╪и█Б╪к ╪з┌Ж┌╛█М" :
               "Grazing excellent",
        cls: "good",
        emoji: "ЁЯМ┐"
      };
    if (m.pasture.includes("growing"))
      return {
        label: currentLang === "hi" ? "рдЪрд░рд╛рдИ рдордзреНрдпрдо" :
               currentLang === "ur" ? "┌Ж╪▒╪з╪ж█М ╪п╪▒┘Е█М╪з┘Ж█М" :
               "Grazing moderate",
        cls: "medium",
        emoji: "ЁЯМ▒"
      };
    return {
      label: currentLang === "hi" ? "рдЪрд░рд╛рдИ рдХрдордЬрд╝реЛрд░" :
             currentLang === "ur" ? "┌Ж╪▒╪з╪ж█М ┌й┘Е╪▓┘И╪▒" :
             "Grazing poor",
      cls: "bad",
      emoji: "ЁЯЯд"
    };
  }

  function classifyHazard(m) {
    if (m.hazard.includes("High"))
      return {
        label: currentLang === "hi" ? "рдЬреЛрдЦрд┐рдо рдЕрдзрд┐рдХ" :
               currentLang === "ur" ? "╪о╪╖╪▒█Б ╪▓█М╪з╪п█Б" :
               "Hazard high",
        cls: "bad",
        emoji: "тЪая╕П"
      };
    return {
      label: currentLang === "hi" ? "рдЬреЛрдЦрд┐рдо рдХрдо" :
             currentLang === "ur" ? "╪о╪╖╪▒█Б ┌й┘Е" :
             "Hazard low",
      cls: "good",
      emoji: "ЁЯЫбя╕П"
    };
  }

  function buildMonthCard(monthData) {
    const card = document.createElement("div");
    card.className = "month-page";
    card.dataset.month = monthData.month;

    const season = getSeason(monthData.month);
    const fieldStatus = classifyFieldWork(monthData);
    const grazeStatus = classifyGrazing(monthData);
    const hazardStatus = classifyHazard(monthData);
    const rainRel = maxChirps > 0 ? (monthData.rainChirps / maxChirps) * 100 : 0;

    const headerRow = document.createElement("div");
    headerRow.className = "month-header-row";
    headerRow.innerHTML = `
      <div class="month-name">${monthData.name}</div>
      <div class="season-tag">${season}</div>
    `;
    card.appendChild(headerRow);

    const iconsRow = document.createElement("div");
    iconsRow.className = "icons-row";
    iconsRow.innerHTML = `
      <span title="${monthData.frost}">${shortStatusIcon("frost", monthData.frost)}</span>
      <span title="${monthData.snowValley}">${shortStatusIcon("snow", monthData.snowValley)}</span>
      <span title="${monthData.pasture}">${shortStatusIcon("pasture", monthData.pasture)}</span>
      <span title="${monthData.water}">${shortStatusIcon("water", monthData.water)}</span>
      <span title="${monthData.hazard}">${shortStatusIcon("hazard", monthData.hazard)}</span>
    `;
    card.appendChild(iconsRow);

    const summaryRow = document.createElement("div");
    summaryRow.className = "summary-badges";
    summaryRow.innerHTML = `
      <div class="summary-pill ${fieldStatus.cls}">${fieldStatus.emoji} ${fieldStatus.label}</div>
      <div class="summary-pill ${grazeStatus.cls}">${grazeStatus.emoji} ${grazeStatus.label}</div>
      <div class="summary-pill ${hazardStatus.cls}">${hazardStatus.emoji} ${hazardStatus.label}</div>
    `;
    card.appendChild(summaryRow);

    const shortLines = document.createElement("div");
    shortLines.className = "short-lines";
    shortLines.innerHTML = `
      <div><span class="label-pill">ЁЯМб ${t("metricTemp")}</span> ${monthData.meanTemp.toFixed(1)} ┬░C</div>
      <div><span class="label-pill">ЁЯМз ${t("metricRain")}</span> ${monthData.rainChirps.toFixed(1)} mm</div>
      <div><span class="label-pill">тЪЩ ${t("metricRantak")}</span> ${monthData.RANTAK_class}</div>
      <div><span class="label-pill">ЁЯСитАНЁЯМ╛ ${t("metricLabour")}</span> ${monthData.LABOUR_demand}</div>
    `;
    card.appendChild(shortLines);

    const miniRain = document.createElement("div");
    miniRain.className = "mini-rain-bar";
    miniRain.innerHTML = `
      <div>${t("labelRainRel")}:</div>
      <div class="bar"><div class="fill" style="width:${rainRel.toFixed(0)}%;"></div></div>
    `;
    card.appendChild(miniRain);

    card.addEventListener("click", () => showMonthDetail(monthData));
    return card;
  }

  function buildAiHelperText(m) {
    const parts = [];
    const season = getSeason(m.month);
    parts.push(`${t("aiSeason")}: <strong>${season}</strong>.`);

    const act = m.MAIN_CROP_activity.toLowerCase();
    if (act.includes("sowing")) {
      parts.push(t("aiSowing"));
    } else if (act.includes("harvest")) {
      parts.push(t("aiHarvest"));
    } else if (act.includes("fallow")) {
      parts.push(t("aiFieldsFallow"));
    }

    if (m.water.includes("HIGH") && m.RANTAK_class !== "Low") {
      parts.push(t("aiWaterGood"));
    }
    if (m.hazard.includes("High")) {
      parts.push(t("aiHazardHigh"));
    }
    if (m.MIGRATION_level === "High") {
      parts.push(t("aiMigrationHigh"));
    }

    parts.push(t("aiNoteUnusual"));
    return parts.join(" ");
  }

  function showMonthDetail(monthData) {
    const season = getSeason(monthData.month);
    detailMonthName.innerHTML = `
      ${monthData.name}
      <span class="detail-season-pill">${season}</span>
    `;
    detailTip.textContent = monthData.COMMUNITY_tip;
    aiHelperText.innerHTML = buildAiHelperText(monthData);

    const snowValleyPct = (monthData.snowValleyFrac != null)
      ? (monthData.snowValleyFrac * 100).toFixed(0) + "%"
      : "NA";
    const snowSourcePct = (monthData.snowSourceFrac != null)
      ? (monthData.snowSourceFrac * 100).toFixed(0) + "%"
      : "NA";

    const rainRel = maxChirps > 0 ? (monthData.rainChirps / maxChirps) * 100 : 0;

    detailContent.innerHTML = `
      <div class="metrics-row">
        <div class="metric-pill">ЁЯМб ${t("metricTemp")}: ${monthData.meanTemp.toFixed(1)} ┬░C</div>
        <div class="metric-pill">ЁЯМз ${t("metricRain")}: ${monthData.rainChirps.toFixed(1)} mm</div>
        <div class="metric-pill">тЪЩ ${t("metricRantak")}: ${monthData.RANTAK_class}</div>
        <div class="metric-pill">ЁЯЪ░ ${t("metricIrrigation")}: ${monthData.IRRIGATION_reliability}</div>
        <div class="metric-pill">ЁЯРД ${t("metricLabour")}: ${monthData.LABOUR_demand}</div>
        <div class="metric-pill">ЁЯз│ ${t("metricMigration")}: ${monthData.MIGRATION_level}</div>
      </div>

      <div class="detail-bars-block">
        <div class="bar-label">${t("labelRainRel")}: ${monthData.rainChirps.toFixed(1)} mm</div>
        <div class="bar"><div class="fill" style="width:${rainRel.toFixed(0)}%;"></div></div>
      </div>

      <div class="detail-bars-block">
        <div class="bar-label">${t("labelSnowFields")}: ${snowValleyPct}</div>
        <div class="bar"><div class="fill" style="width:${monthData.snowValleyFrac * 100}%;"></div></div>
        <div class="bar-label">${t("labelSnowSource")}: ${snowSourcePct}</div>
        <div class="bar"><div class="fill" style="width:${monthData.snowSourceFrac * 100}%;"></div></div>
      </div>

      <div class="detail-section-title">${t("sectionConditions")}</div>
      <ul class="detail-list">
        <li><span class="icon">тЭД</span><span><strong>${t("labelFrost")}:</strong> ${monthData.frost}</span></li>
        <li><span class="icon">тЫД</span><span><strong>${t("labelSnowFields")}:</strong> ${monthData.snowValley}</span></li>
        <li><span class="icon">ЁЯПФ</span><span><strong>${t("labelSnowSource")}:</strong> ${monthData.snowSource}</span></li>
        <li><span class="icon">ЁЯРС</span><span><strong>${t("labelPasture")}:</strong> ${monthData.pasture}</span></li>
        <li><span class="icon">ЁЯТз</span><span><strong>${t("labelWater")}:</strong> ${monthData.water}</span></li>
        <li><span class="icon">тЪая╕П</span><span><strong>${t("labelHazard")}:</strong> ${monthData.hazard}</span></li>
      </ul>

      <div class="detail-section-title">${t("sectionWater")}</div>
      <ul class="detail-list">
        <li><span class="icon">тЪЩ</span><span><strong>${t("labelRantak")}:</strong> ${monthData.RANTAK_class}</span></li>
        <li><span class="icon">ЁЯЪ░</span><span><strong>${t("labelIrrigationRel")}:</strong> ${monthData.IRRIGATION_reliability}</span></li>
        <li><span class="icon">тЭД</span><span><strong>${t("labelIceStupa")}:</strong> ${monthData.ICE_STUPA_status}</span></li>
        <li><span class="icon">ЁЯМА</span><span><strong>${t("labelSpringFlow")}:</strong> ${monthData.SPRING_STREAM_flow}</span></li>
      </ul>

      <div class="detail-section-title">${t("sectionLivelihoods")}</div>
      <ul class="detail-list">
        <li><span class="icon">ЁЯСитАНЁЯМ╛</span><span><strong>${t("labelMainCrop")}:</strong> ${monthData.MAIN_CROP_activity}</span></li>
        <li><span class="icon">ЁЯМ╛</span><span><strong>${t("labelCropRisk")}:</strong> ${monthData.CROP_RISK_note}</span></li>
        <li><span class="icon">ЁЯзСтАНЁЯМ╛</span><span><strong>${t("labelLabourDemand")}:</strong> ${monthData.LABOUR_demand}</span></li>
        <li><span class="icon">ЁЯз│</span><span><strong>${t("labelMigrationLevel")}:</strong> ${monthData.MIGRATION_level}</span></li>
      </ul>

      <div class="detail-section-title">${t("sectionBiodiversity")}</div>
      <ul class="detail-list">
        <li><span class="icon">ЁЯМ┐</span><span><strong>${t("labelMedicinal")}:</strong> ${monthData.MEDICINAL_plants_status}</span></li>
        <li><span class="icon">ЁЯР╛</span><span><strong>${t("labelWildlife")}:</strong> ${monthData.WILDLIFE_conflict_risk}</span></li>
      </ul>

      <div class="detail-section-title">${t("sectionBuilt")}</div>
      <ul class="detail-list">
        <li><span class="icon">ЁЯФе</span><span><strong>${t("labelHeating")}:</strong> ${monthData.HEATING_demand}</span></li>
        <li><span class="icon">ЁЯПа</span><span><strong>${t("labelRoofUse")}:</strong> ${monthData.ROOF_USE_status}</span></li>
        <li><span class="icon">ЁЯОЙ</span><span><strong>${t("labelCulture")}:</strong> ${monthData.CULTURAL_events}</span></li>
      </ul>
    `;
  }

  function renderMonthCards() {
    monthsGrid.innerHTML = "";
    calendarData.forEach(m => {
      monthsGrid.appendChild(buildMonthCard(m));
    });
  }

  // Build cards first time
  renderMonthCards();

  // Default month: April
  const defaultMonth = calendarData.find(m => m.month === 4) || calendarData[0];
  showMonthDetail(defaultMonth);

  // Filters
  const filterButtons = document.querySelectorAll(".filter-btn");

  filterButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const filter = btn.dataset.filter;
      filterButtons.forEach(b => b.classList.remove("active"));

      if (filter === "clear") {
        document.querySelectorAll(".month-page").forEach(card => {
          card.style.opacity = "1";
          card.style.filter = "none";
        });
        return;
      }

      btn.classList.add("active");

      document.querySelectorAll(".month-page").forEach(card => {
        const monthNumber = Number(card.dataset.month);
        const data = calendarData.find(m => m.month === monthNumber);

        let match = false;
        const act = data.MAIN_CROP_activity.toLowerCase();

        if (filter === "field") {
          match = !data.frost.includes("High") &&
                  data.snowValley.includes("snow-free");
        } else if (filter === "grazing") {
          match = data.pasture.includes("growing") ||
                  data.pasture.includes("peak green");
        } else if (filter === "agri") {
          match = act.includes("sowing") || act.includes("harvest");
        }

        if (match) {
          card.style.opacity = "1";
          card.style.filter = "none";
        } else {
          card.style.opacity = "0.25";
          card.style.filter = "grayscale(0.6)";
        }
      });
    });
  });

  // Language change
  function applyLanguage(lang) {
    currentLang = lang;

    document.getElementById("titleText").textContent = t("title");
    document.getElementById("subtitleText").textContent = t("subtitle");
    document.getElementById("yearLabelText").textContent = t("yearLabel");
    document.getElementById("aiTaglineText").textContent = t("aiTagline");

    document.getElementById("filterFieldText").textContent = t("filterField");
    document.getElementById("filterGrazingText").textContent = t("filterGrazing");
    document.getElementById("filterAgriText").textContent = t("filterAgri");
    document.getElementById("filterClearText").textContent = t("filterClear");

    document.getElementById("legendTitleText").textContent = t("legendTitle");
    document.getElementById("legendFrostHighText").textContent = t("legendFrostHigh");
    document.getElementById("legendFrostSomeText").textContent = t("legendFrostSome");
    document.getElementById("legendFrostLowText").textContent = t("legendFrostLow");
    document.getElementById("legendSnowDeepText").textContent = t("legendSnowDeep");
    document.getElementById("legendSnowPartialText").textContent = t("legendSnowPartial");
    document.getElementById("legendSnowNoneText").textContent = t("legendSnowNone");
    document.getElementById("legendPasturePeakText").textContent = t("legendPasturePeak");
    document.getElementById("legendPastureGrowingText").textContent = t("legendPastureGrowing");
    document.getElementById("legendPasturePoorText").textContent = t("legendPasturePoor");
    document.getElementById("legendWaterHighText").textContent = t("legendWaterHigh");
    document.getElementById("legendWaterMedText").textContent = t("legendWaterMed");
    document.getElementById("legendWaterLowText").textContent = t("legendWaterLow");
    document.getElementById("legendFieldGoodText").textContent = t("legendFieldGood");
    document.getElementById("legendSowingHarvestText").textContent = t("legendSowingHarvest");

    document.getElementById("detailMonthName").textContent = t("selectMonth");
    document.getElementById("detailTip").textContent = t("detailHint");
    document.getElementById("aiHelperTitle").textContent = t("aiHelperTitle");
    aiHelperText.textContent = t("aiHelperStart");
    document.getElementById("hintText").textContent = t("hint");

    // Re-render cards & reset detail panel to default month in new language
    renderMonthCards();
    showMonthDetail(defaultMonth);
  }

  const langButtons = document.querySelectorAll(".lang-btn");
  langButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      langButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      const lang = btn.dataset.lang;
      applyLanguage(lang);
    });
  });

  // Initial language
  applyLanguage("en");
</script>
</body>
</html>
